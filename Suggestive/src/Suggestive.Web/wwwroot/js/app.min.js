!function(){"use strict";function t(t){var s=this;s.suggestions=[],s.newSuggestion={},s.errorMessage="",s.isBusy=!0,s.addSuggestion=function(){s.isBusy=!0,s.errorMessage="",s.saveSuggestion(),s.newSuggestion={},s.isBusy=!1},t.get("/api/suggestions").then(function(t){angular.copy(t.data,s.suggestions)},function(t){s.errorMessage="Problem getting suggestions: "+t.status+" - "+t.statusText})["finally"](function(){s.isBusy=!1}),s.saveSuggestion=function(){t.post("/api/suggestions/",s.newSuggestion).then(function(t){s.suggestions.push(t.data)},function(t){s.errorMessage="Failed to save suggestion: "+t.status+" - "+t.statusText})}}function s(t,s){var e=this;e.errorMessage="",e.statusMessage="",e.isBusy=!0,e.suggestionId=t.suggestionId,e.suggestion={},e.getSuggestion=function(){s.get("/api/suggestions/"+e.suggestionId).then(function(t){angular.copy(t.data,e.suggestion)},function(t){e.errorMessage="Problem getting suggestion: "+t.status+" - "+t.statusText})["finally"](function(){e.isBusy=!1})},e.getSuggestion(),e.updateSuggestion=function(){s.put("/api/suggestions/"+e.suggestionId,e.suggestion).then(function(t){e.statusMessage="Suggestion updated successfully"},function(t){e.errorMessage="Failed to save suggestion: "+t.status+" - "+t.statusText})}}function e(){return{scope:{show:"=displayWhen"},restrict:"E",templateUrl:"/app/waitCursor.html"}}t.$inject=["$http"],s.$inject=["$routeParams","$http"],angular.module("app",["controls","ngRoute"]).config(["$routeProvider",function(t){t.when("/",{controller:"suggestionController",controllerAs:"vm",templateUrl:"/app/suggestive.html"}),t.when("/editor/:suggestionId",{controller:"suggestionEditorController",controllerAs:"vm",templateUrl:"/app/suggestionEditor.html"}),t.otherwise({redirectTo:"/"})}]),angular.module("app").controller("suggestionController",t),angular.module("app").controller("suggestionEditorController",s),angular.module("controls",[]).directive("waitCursor",e)}();