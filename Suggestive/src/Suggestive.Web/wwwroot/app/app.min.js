"use strict";!function(){angular.module("app",["controls","ngRoute"]).config(["$routeProvider",function(t){t.when("/",{controller:"Suggestions",controllerAs:"vm",templateUrl:"/app/suggestions.html"}),t.when("/editor/:suggestionId",{controller:"SuggestionEditor",controllerAs:"vm",templateUrl:"/app/suggestionEditor.html"}),t.otherwise({redirectTo:"/"})}])}(),function(){function t(t,s,e){var n=this;n.errorMessage="",n.statusMessage="",n.isBusy=!0,n.suggestionId=t.suggestionId,n.suggestion={},n.getSuggestion=function(){e.getSuggestion(n.suggestionId).then(function(t){angular.copy(t.data,n.suggestion)},function(t){n.errorMessage="Problem getting suggestion: "+t.status+" - "+t.statusText})["finally"](function(){n.isBusy=!1})},n.getSuggestion(),n.updateSuggestion=function(){e.updateSuggestion(n.suggestion).then(function(t){n.statusMessage="Suggestion updated successfully"},function(t){n.errorMessage="Failed to save suggestion: "+t.status+" - "+t.statusText})}}t.$inject=["$routeParams","$http","dataService"],angular.module("app").controller("SuggestionEditor",t)}(),function(){function t(t,s){function e(){g.isBusy=!0,g.suggestions=n(),g.isBusy=!1}function n(){s.getAllSuggestions().then(function(t){g.suggestions=t.data||[]},function(t){g.errorMessage="Problem getting suggestions: "+t.status+" - "+t.statusText})}function o(){g.isBusy=!0,g.errorMessage="",g.saveSuggestion(),g.newSuggestion={},g.isBusy=!1}function u(){s.addSuggestion(g.newSuggestion).then(function(t){g.suggestions.push(t.data)},function(t){g.errorMessage="Failed to save suggestion: "+t.status+" - "+t.statusText})}var g=this;g.suggestions=[],g.newSuggestion={},g.errorMessage="",g.isBusy=!0,g.saveSuggestion=u,g.addSuggestion=o,e()}t.$inject=["$http","dataService"],angular.module("app").controller("Suggestions",t)}(),function(){function t(){return{scope:{show:"=displayWhen"},restrict:"E",templateUrl:"/app/controls/sgWaitCursor.html"}}angular.module("controls",[]).directive("sgWaitCursor",t)}(),function(){function t(t){function s(){return t.get("/api/suggestions")}function e(s){return t.post("/api/suggestions/",s)}function n(s){return t.get("/api/suggestions/"+s)}function o(s){return t.put("/api/suggestions/"+s.Id,s)}var u={getAllSuggestions:s,getSuggestion:n,addSuggestion:e,updateSuggestion:o};return u}t.$inject=["$http"],angular.module("app").factory("dataService",t)}();