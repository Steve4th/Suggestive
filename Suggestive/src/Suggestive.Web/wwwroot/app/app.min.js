function SuggestionEditor(t,s){var e=this;e.errorMessage="",e.statusMessage="",e.isBusy=!0,e.suggestionId=t.suggestionId,e.suggestion={},e.getSuggestion=function(){s.get("/api/suggestions/"+e.suggestionId).then(function(t){angular.copy(t.data,e.suggestion)},function(t){e.errorMessage="Problem getting suggestion: "+t.status+" - "+t.statusText})["finally"](function(){e.isBusy=!1})},e.getSuggestion(),e.updateSuggestion=function(){s.put("/api/suggestions/"+e.suggestionId,e.suggestion).then(function(t){e.statusMessage="Suggestion updated successfully"},function(t){e.errorMessage="Failed to save suggestion: "+t.status+" - "+t.statusText})}}function sgWaitCursor(){return{scope:{show:"=displayWhen"},restrict:"E",templateUrl:"/app/controls/sgWaitCursor.html"}}SuggestionEditor.$inject=["$routeParams","$http"],function(){"use strict";angular.module("app",["controls","ngRoute"]).config(["$routeProvider",function(t){t.when("/",{controller:"Suggestions",controllerAs:"vm",templateUrl:"/app/suggestions.html"}),t.when("/editor/:suggestionId",{controller:"SuggestionEditor",controllerAs:"vm",templateUrl:"/app/suggestionEditor.html"}),t.otherwise({redirectTo:"/"})}])}(),angular.module("app").controller("SuggestionEditor",SuggestionEditor),function(){function t(t,s){function e(){u.isBusy=!0,u.suggestions=n(),u.isBusy=!1}function n(){s.getAllSuggestions().then(function(t){u.suggestions=t.data||[]},function(t){u.errorMessage="Problem getting suggestions: "+t.status+" - "+t.statusText})}function o(){u.isBusy=!0,u.errorMessage="",u.saveSuggestion(),u.newSuggestion={},u.isBusy=!1}function g(){s.addSuggestion(u.newSuggestion).then(function(t){u.suggestions.push(t.data)},function(t){u.errorMessage="Failed to save suggestion: "+t.status+" - "+t.statusText})}var u=this;u.suggestions=[],u.newSuggestion={},u.errorMessage="",u.isBusy=!0,u.saveSuggestion=g,u.addSuggestion=o,e()}t.$inject=["$http","dataService"],angular.module("app").controller("Suggestions",t)}(),angular.module("controls",[]).directive("sgWaitCursor",sgWaitCursor),function(){"use strict";function t(t){function s(){return t.get("/api/suggestions")}function e(s){return t.post("/api/suggestions/",s)}var n={getAllSuggestions:s,addSuggestion:e};return n}t.$inject=["$http"],angular.module("app").factory("dataService",t)}();